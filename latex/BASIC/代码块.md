# 宏包
listings、xcolor
# 用法
```tex
\begin{lstlisting}[language=R]
> matrix(1:12,nrow=3,ncol=4)
    [,1] [,2] [,3] [,4]
[1,]   1   4   7   10
[2,]   2   5   8   11
[3,]   3   6   9   12
\end{lstlisting}
```
```tex
\begin{lstlisting}
> matrix(1:12,nrow=3,ncol=4)
    [,1] [,2] [,3] [,4]
[1,]   1   4   7   10
[2,]   2   5   8   11
[3,]   3   6   9   12
\end{lstlisting}
```
# 设置
## 全部
```tex
\lstset{ 
  backgroundcolor=\color{white},   % 背景颜色
  basicstyle=\footnotesize,        % 设置代码字号.
  breakatwhitespace=false,         % 自动折行时是否打断单词
  breaklines=true,                 % 设置自动断行.
  captionpos=b,                    % 设置标题位置.
  commentstyle=\color{mygreen},    % 设置注释格式
  deletekeywords={...},            % 是否删除给定语言的关键词.
  escapeinside={\%*}{*)},          % 是否在代码中添加LaTex.
  extendedchars=true,              % 是否允许使用非ASCII字符; 仅适用于8位编码，不适用于UTF-8. 
  frame=single,	                   % 给代码区添加边框.
  keepspaces=true,                 % 保留空格
  keywordstyle=\color{blue},       % 关键字显示风格.
  language=Octave,                 % 默认代码语言.
  morekeywords={*,...},            % 是否需要添加其他的关键词.
  numbers=left,                    % 给代码添加行号，可取值none, left, right.
  numbersep=5pt,                   % 设置行号与代码之间的间隔
  numberstyle=\tiny\color{mygray}, % 行号的字号和颜色
  rulecolor=\color{black},         % 边框颜色，如果没有设置，框架颜色可以在非黑色文本中的换行符上更改（例如 text (e.g. comments (green here))）
  showspaces=false,                % 显示每个地方添加特定下划线的空格; 覆盖了'showtringspaces'
  showstringspaces=false,          % 仅在字符串中允许空格
  showtabs=false,                  % show tabs within strings adding particular underscores
  stepnumber=2,                    % the step between two line-numbers. If it's 1, each line will be numbered
  stringstyle=\color{mymauve},     % string literal style
  tabsize=2,	                   % 将默认tab设置为2个空格
  title=\lstname                   % show the filename of files included with \lstinputlisting; also try caption instead of title
}
```
## 推荐
```tex
\lstset{
language=R, % 默认代码语言.
numbers=left, %设置行号位置
numberstyle=\tiny, %设置行号大小
keywordstyle=\color{blue}, %设置关键字颜色
commentstyle=\color[cmyk]{1,0,1,0}, %设置注释颜色
frame=single, %设置边框格式
escapeinside=``, %逃逸字符(1左面的键)，用于显示中文
breaklines = True, % 自动折行
breakatwhitespace = True, % 自动折行时打断单词
extendedchars=false, %解决代码跨页时，章节标题，页眉等汉字不显示的问题
xleftmargin=2em,xrightmargin=2em, aboveskip=1em, %设置边距
tabsize=4, %设置tab空格数
showspaces=false %不显示空格
}
```